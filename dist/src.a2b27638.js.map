{"version":3,"sources":["src/collisionDetection.js","src/ball.js","src/paddle.js","src/heart.js","src/input.js","src/brick.js","src/levels.js","src/game.js","src/index.js"],"names":["detectCollision","ball","gameObject","ballTop","position","y","ballBottom","size","objectTop","objectBottom","height","objectLeft","x","objectRight","width","Ball","game","gameWidth","gameHeight","image","document","getElementById","reset","speed","context","drawImage","deltaTime","lives","paddleTop","paddle","paddleLeft","paddleRight","Paddle","maxSpeed","fillStyle","fillRect","keyCode","Heart","InputHandler","addEventListener","event","move","togglePause","start","stop","Brick","destroy","buildLevel","level","bricks","forEach","row","rowIndex","brick","brickIndex","push","level1","level2","GAMESTATE","PAUSED","RUNNING","MENU","GAMEOVER","NEWLEVEL","Game","gameObjects","gameState","levels","currentLevel","object","update","filter","length","draw","levelPanel","i","heart","pausedScreen","menuScreen","gameOverScreen","rect","fill","font","textAlign","fillText","canvas","getContext","GAME_WIDTH","GAME_HEIGHT","lastTime","gameLoop","timestamp","clearRect","requestAnimationFrame"],"mappings":";;AQAA;;;;AAEA,IAAIqF,MAAM,GAAGjE,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAb;APFA,AIAA,ALAO,AOAP,AJAA,AKGA,IAAIG,KRHYxB,EQGL,GAAGqF,MAAM,CAACC,GRHd,CAAyBrF,IAAzB,EAA+BC,AQGxB,CAAkB,IAAlB,CAAd,IRHO,EAA0C;AAC7C,AQIJ,AFLA,IEKMqF,ERJEpF,OAAO,CQIC,ERJGF,CQIA,GRJI,AQIvB,CRJwBG,QAAL,CAAcC,CAA7B;AACA,AODJ,ACKA,IAAMmF,AJNelD,EJEbhC,SQIS,CRJC,EQIE,CRJEL,AIDlB,EIKJ,ERJ0B,CAACG,QAAL,CAAcC,CAAd,GAAkBJ,IAAI,AID5Be,CJC6BT,GIDzC,CJCA,CIDkB;AJGlB,AQIJ,AJPsB,IIOlBS,ERJIR,EQIA,GAAG,IRJM,AQIFwD,GRJK9D,UAAU,AQInB,CRJoBE,AQIXmF,QRJA,CAAoBlF,CAApC,AQIO,EAAqBmF,WAArB,CAAX;ARHI,AOHJ,ACQA,IAAIC,ERLIhF,MQKI,GAAG,CAAf,ERLoB,GAAGP,UAAU,CAACE,QAAX,CAAoBC,CAApB,GAAwBH,UAAU,CAACQ,MAAtD;AACA,AIJIU,AEAD,EFACA,IJIAT,GMJQoC,CFAA,CAACR,KJIC,GAAGrC,AMJd,CAAoBc,IAApB,EAA0BgC,CFAzB,CAA0B,CJIH,CAAC5C,CMJzB,EAAgC,IFA/B,CJIa,CAAoBQ,AIJI,CJIzC,SIJ0C4B,KAAD,EAAW;AJKpD,AOJJ,ACSA,AJTYxB,AEAR,IFAQA,AFHSgB,EFObnB,AMJAoC,EFAQ,CISPyC,AJTQ7D,GEAH,GFAF,AEAK,CFAOY,CJIL,AQKnB,AFTI,CESckD,ERLIzF,AIJV,CAAiBsC,KAAK,CISlC,AJTmCJ,EISP,CRLI,CAAChC,GIJrB,KJIU,CAAoBQ,CAApB,GAAwBV,UAAU,CAACY,KAArD;AQMA,AFRAkC,EAAAA,IEQItB,CFRC,CAACwB,OEQO,AFRb,CAAc,EEQEyC,QFRDxC,CEQU,EFRX,CEQcsC,CFRRrC,OEQpB,CFRc,EAAmB;ANIjC,AOLJ,ACUIqC,AJVQ,AEEJtC,EEQJsC,EPZiB1E,AIAA8B,AFAAR,AGIbc,ENIAhD,CMJG,CAAC+C,EEQA,EJVOV,CJMJ,AQIAmD,EFRP,CAAY,CNIDlF,AINK,CAAC2B,IIUrB,GJVQ,CEESiB,GNIb,EMJY,ENKZ/C,AMLoBgD,UNKV,AMLE,EAAuB,ENKrB9C,SADd,IAEAP,IAAI,CAACG,QAAL,CAAcQ,CAAd,IAAmBD,UAFnB,IAGAV,IAAI,CAACG,QAAL,CAAcQ,CAAd,GAAkBX,IAAI,CAACM,IAAvB,IAA+BM,WAJnC,EAKC;AACG,AQCJW,AJXY,AEEJ,AJNR,EMeAA,OAAO,CAACoE,AFTGvC,CNQA,AIVM,EAAL,EJUR,AMRY,GJNJrC,CMeZ,CAAkB,AFTG,CESrB,AFTQ,CJNR,CMeqB,AFTE,CESvB,ANfiB,EMeOuE,UAAxB,EAAoCC,WAApC;ARAC,AQEDxE,AJZgBA,AEEJ,AJPK,EMiBjBA,CRTA,GQSI,CAACsD,CJZWtD,CJWX,GIXe,AEEJZ,CEUhB,AJZqBsC,CIYThB,MFVY,GEUxB,AFV2B,CFFX;AHHhB,AIAA,ALeI,AGfJ,AKgBAV,AJZgB,AEEAJ,EEUhBI,IAAI,CAACyD,GFVW7D,CNSL,AQCX,AFViB,CEUPY,CFVS,GLNPR,ADeR,CKfQA,AFAAA,CGMYsC,CEUxB,CPhBA,CIAA,AFAA,CFAiB,CIAClD,AFAAA,KGKS,GDL3B,AFAA,EEA2B,AFAA;AFAV,AIAU,ALgB1B,AGhB0B,AKkB3ByF,AFXgBxF,AJRZ,EMmBJwF,ONnBS5E,CIQOZ,CAAC,EAAE,KAAK,AJRpB,GAAiBW,EMmBA,AFXQoC,CEWPsC,CNnBG,CAACzE,MMmBL,CAArB,ENnBI;AFkBP,AQEA,AJde,AEAe,AJLvB,SIKQ,AJLHC,EEKQ,EAAL,MFLR,GAAkBF,IAAI,CAACE,UAAvB;ADCA,AIAA,AFAA,ACKYF,AEIJiC,AJRR,QEIYjC,AEIJiC,CLTHhC,AIAAA,AFAAA,ADCAH,GEIW,CAAC6B,CEIH,AJRd,CIQeY,EJRF,CDDb,AIAA,AFAA,ACKY,CEIJ,CAAY,AJRpB,CDDiBvC,AIAAA,AFAAA,GGSO6B,CLTH,AIAA,AFAA,CFAC5B,AIAAA,AFAAA,SFAtB,AIAA,AFAA,GGSoB,CAAUD,IAAV,EAAgBZ,QAAhB,CAAZ;ALRR,AIAA,AFAA,AKmBRyF,AJdoB,AEIP,AJRL,SDDK3E,AIAAA,AFAAA,ADCAR,MAAL,GAAc,CDDd,AIAA,AFAA,CDCA,CMkBa,CPnBKM,AIAAA,AFAAA,AKmBJ0E,IPnBQ,AIAA,AFAA,CFACxE,AIAAA,AFAAA,GKmBV,CAArB,MPnBQ,AIAA,AFAA;AFEA,AIAA,AFDA,ACFI,AEWH,AJPD,KIFA,ILCKF,AIAAA,AFDAA,ADEAiB,IDDL,AIAA,AFDA,GFCYjB,AIAAA,AFDAA,CDEZ,GDDA,AIAA,AFDA,ADEgB,CAAhB;ADCA,AIAA,AFDA,ACKC,AEGJ,AJPG,GEPA,AEGJ,MLISG,AIAAA,AFDAA,ADCAI,KDAL,AIAA,AFDA,ADCA,GDAaH,AIAAA,AFDAA,ADCA,CAAb,ODAqB,AIAA,AFDA,CFCCC,AIAAA,AFDAA,cFCT,AIAA,AFDA,CFCwB,AIAA,AFDA,UFCxB,CAAb,AIAa,AFDA,CECb,AFDA;AFGA,AIAA,AFFA,ACKAD,AEIJ,AJPI,EEGAA,OHHKE,AIAAlB,AFFAG,AGSF0C,AJPE7C,CEGG,CAACmC,EDLT,CFEA,CKOJ,CHTgB,CEEZ,AHAA,CCFA,EEEgBnC,AHAA,OEGhB,CCHA,ADG0B,OAA1B,EAAmC,UAACoC,KAAD,EAAW;AHD9C,AIAA,AFFA,ACIIxB,AEIX,AJPWJ,IEGAI,EFHAJ,CAAC,CEGG,CHFHL,AIAAO,AFFAV,ACIIyB,AFHF,IDCP,CIAA,AHDYZ,CEGR,CHFQ,AGEI2B,CCFH,AFFb,CFEA,CIAA,CFFgBxC,ACIZ,CAAiBoC,EFHd,GEGmB,AFHF,CEGGJ,AFHpB,CCDP,EDC4B,IEGxB,CFH6BtB,KAAL,GAAa,CADzB;ADGnB,AIAG,AFFH,ACII,AFHGT,GECJ,GFDIA,CAAC,EGCAK,AHDE,KAAKQ,CGCZ,GAAc,EAAd,IHDO,GAAkB,KAAKR,MAAvB,GAAgC;AGGvC,ADCH,AEIE,AJViB,IIUX8C,CJVL,IGKKV,CCKM,GAAG,CAClB,CAAC,CDNG,ACMJ,EAAI,CDNe,ACMnB,EAAO,CAAP,EDNI,ACMM,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAm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AL,CAAcQ,CAAd,GAAkB,CAArE,EAAuE;AACnE,AMlBJ,ALoBQ,SKpBHqD,INkBI1C,ECEIA,GDFT,CAAWX,CAAX,AMlBJ,ALoBQ,GDFW,AMlBA,ALoBE,CDFD,CMlBpB,GLoB0BqB,CDFDV,KAAL,CAAWX,CAA3B,ACEI;ADDP,AMlBD,ALoBQ,SKpBHsD,SAAL,GAAiBR,SAAS,CAACG,IAA3B;AAEA,ALYA,SKZKlC,KAAL,GAAa,CAAb;ANkBA,AMhBA,ALmBH,SKnBQsB,CNgBF,KAAK7C,AMhBR,GAAc,EAAd,GNgBG,CAAcC,CAAd,GAAkB,CAArB,EAAuB;AACnB,AMhBJ,SAAKJ,INgBIsB,AMhBT,GAAY,ENgBR,CAAWlB,CAAX,AMhBYU,GNgBG,CAAC,KAAKQ,IMhBb,CNgBQ,AMhBC,CNgBUlB,CAA3B,EMhBQ,CAAZ;ANiBC,AMhBD,SAAKwB,MAAL,GAAc,IAAIG,eAAJ,CAAW,IAAX,CAAd;AAEA,SAAKmC,ELiBT,IKjBI,GAAc,CAACX,MLiBdpB,OAAL,CKjBkB,CLiBL,CKjBcqB,cAAT,CAAd;ANgBA,AMfA,ALiBA,SKjBKW,CNeF,ICEIhC,CDFChC,MMfR,ALiBA,EDFG,CAAcC,AMfG,CNejB,AMfH,GNeqB,KAAKE,IAAvB,GAA8B,KAAKW,UAAtC,EAAiD;AAC7C,AMdJ,ALgBI,QKhBAoB,KNcKtB,ACEA,EAAL,EDFA,CAAUW,IMdd,CNcI,AMda,IAAjB,EAf8B,CAiB9B;ANaI,AMZP,ALcW,aDFCL,CCEE,IDFP,CCEYC,KAAL,GAAa,CAAhB,EACI,KAAKA,KAAL,GAAa,CAAb;ADFX,ACGO;;ADDR,ACEI,UDFAjB,GCEK,EAAL,KDFU,GAAI,KAAKF,QAAL,CAAcC,CAAd,GAAkB,KAAKE,IAAzC;AACA,ACEQ,UDFJqB,CMdR,GLgBe,KDFE,ACEGL,GDFA,ECEL,GDFUP,ACEG,CKhBrB,ALgBK,EACI,CDHI,CAAUa,GCGTN,GDHD,CAAiBnB,CCGrB,GAAa,CAAb,GDHI,CAA0BC,CAA1C;AACA,AMdA,ALiBQ,UDHJyB,AMbA,KAAKoC,KNaK,GAAG,CMbb,INakBlD,CMbC0C,GNaN,CAAU7B,KMbK,C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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["export function detectCollision(ball, gameObject){\r\n    let ballTop  = ball.position.y;\r\n    let ballBottom  = ball.position.y + ball.size;\r\n\r\n    let objectTop = gameObject.position.y;\r\n    let objectBottom = gameObject.position.y + gameObject.height;\r\n    let objectLeft = gameObject.position.x;\r\n    let objectRight = gameObject.position.x + gameObject.width;\r\n\r\n    if(\r\n        ballTop <= objectBottom && \r\n        ballBottom >= objectTop && \r\n        ball.position.x >= objectLeft && \r\n        ball.position.x + ball.size <= objectRight\r\n    ){\r\n        return true;\r\n    } \r\n    else {\r\n        return false;\r\n    }\r\n}","import { detectCollision } from '/src/collisionDetection'\r\n\r\nexport default class Ball{\r\n    constructor(game){\r\n        this.gameWidth = game.gameWidth;\r\n        this.gameHeight = game.gameHeight;\r\n\r\n        this.game = game;\r\n\r\n        this.image = document.getElementById(\"img-ball\");\r\n\r\n        this.reset();\r\n\r\n        this.size = 24;\r\n    }\r\n\r\n    reset(){\r\n        this.position = { x: 10, y: 400 };\r\n        this.speed = { x: 4, y: -2 };\r\n    }\r\n\r\n    draw(context){\r\n        context.drawImage(\r\n            this.image, \r\n            this.position.x, \r\n            this.position.y, \r\n            this.size, \r\n            this.size\r\n        );\r\n    }\r\n\r\n    update(deltaTime){        \r\n        this.position.x += this.speed.x;\r\n        this.position.y += this.speed.y;\r\n\r\n        if(this.position.x + this.size > this.gameWidth || this.position.x < 0){\r\n            this.speed.x = -this.speed.x;\r\n        }\r\n\r\n        if(this.position.y < 0){\r\n            this.speed.y = -this.speed.y;\r\n        }\r\n\r\n        if(this.position.y + this.size > this.gameHeight){\r\n            this.game.lives--;\r\n            this.reset();\r\n        }\r\n\r\n        let ballBottom  = this.position.y + this.size;\r\n        let paddleTop = this.game.paddle.position.y;\r\n        let paddleLeft = this.game.paddle.position.x;\r\n        let paddleRight = this.game.paddle.position.x + this.game.paddle.width;\r\n\r\n        if(detectCollision(this, this.game.paddle)){\r\n            this.speed.y = -this.speed.y;\r\n            this.position.y = this.game.paddle.position.y - this.size;\r\n        }\r\n    }\r\n}","export default class Paddle{\r\n    constructor(game){\r\n        this.gameWidth = game.gameWidth;\r\n        this.gameHeight = game.gameHeight;\r\n\r\n        this.width = 150;\r\n        this.height = 20;\r\n\r\n        this.maxSpeed = 7;\r\n        this.speed = 0;\r\n\r\n        this.position = {\r\n            x: this.gameWidth / 2 - this.width / 2,\r\n            y: this.gameHeight - this.height - 10\r\n        };\r\n    }\r\n\r\n    draw(context){\r\n        context.fillStyle = \"#0f0\";\r\n        context.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n    }\r\n\r\n    update(deltaTime){\r\n        this.position.x += this.speed;\r\n\r\n         if(this.position.x < 0) \r\n            this.position.x = 0;\r\n\r\n         if(this.position.x + this.width > this.gameWidth) \r\n            this.position.x = this.gameWidth - this.width;\r\n    }\r\n\r\n    move(keyCode){\r\n        switch(keyCode){\r\n            case 37:\r\n                this.speed = -this.maxSpeed;\r\n                break;\r\n            case 39:\r\n                this.speed = this.maxSpeed;\r\n                break;                \r\n        }\r\n\r\n    }\r\n\r\n    stop(keyCode){        \r\n        switch(keyCode){\r\n            case 37:\r\n                if(this.speed < 0)\r\n                    this.speed = 0;\r\n                break;\r\n            case 39:\r\n                if(this.speed > 0)\r\n                    this.speed = 0;\r\n                break;                \r\n        }        \r\n    }\r\n}\r\n","import { detectCollision } from '/src/collisionDetection'\r\n\r\nexport default class Heart{\r\n    constructor(game, position){\r\n        this.gameWidth = game.gameWidth;\r\n        this.gameHeight = game.gameHeight;\r\n        this.game = game;\r\n\r\n        this.image = document.getElementById(\"img-heart\");\r\n        this.size = 24;\r\n\r\n        this.position = position;\r\n    }\r\n\r\n    draw(context){\r\n        context.drawImage(\r\n            this.image, \r\n            this.position.x, \r\n            this.position.y, \r\n            this.size, \r\n            this.size\r\n        );\r\n    }\r\n\r\n    update(deltaTime){        \r\n    }\r\n}","export default class InputHandler{\r\n    constructor(game) {\r\n        document.addEventListener(\"keydown\", (event) => {\r\n            game.paddle.move(event.keyCode);\r\n            switch(event.keyCode){\r\n                case 27:\r\n                    game.togglePause();\r\n                    break;\r\n                case 32:\r\n                    game.start();\r\n                    break;\r\n                }\r\n    \r\n        });\r\n        document.addEventListener(\"keyup\", (event) => {\r\n            game.paddle.stop(event.keyCode);\r\n        });\r\n    }\r\n     \r\n}","import { detectCollision } from '/src/collisionDetection'\r\n\r\nexport default class Brick{\r\n    constructor(game, position){\r\n        this.gameWidth = game.gameWidth;\r\n        this.gameHeight = game.gameHeight;\r\n\r\n        this.game = game;\r\n\r\n        this.image = document.getElementById(\"img-brick\");\r\n\r\n        this.position = position;\r\n\r\n        this.width = 60;\r\n        this.height = 32;\r\n\r\n        this.destroy = false;\r\n    }\r\n\r\n    draw(context){\r\n        context.drawImage(\r\n            this.image, \r\n            this.position.x, \r\n            this.position.y, \r\n            this.width, \r\n            this.height\r\n        );\r\n    }\r\n\r\n    update(deltaTime){       \r\n        if(detectCollision(this.game.ball, this)){\r\n            this.game.ball.speed.y = -this.game.ball.speed.y;\r\n            this.destroy = true;\r\n        } \r\n    }\r\n}","import Brick from '/src/brick'\r\n\r\nexport function buildLevel(game, level){\r\n    let bricks = [];\r\n\r\n    level.forEach((row, rowIndex) => {\r\n        row.forEach((brick, brickIndex) => {\r\n            if(brick === 1){\r\n                let position = {\r\n                    x: 49 * brickIndex,\r\n                    y: 64 + 26 * rowIndex\r\n                };\r\n\r\n                bricks.push(new Brick(game, position));\r\n            }\r\n        });\r\n    });\r\n\r\n    return bricks;\r\n}\r\n\r\nexport const level1 = [\r\n    [1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 0, 1, 1],\r\n    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n    // [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n]\r\n\r\nexport const level2 = [\r\n    [1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 0, 1, 1],\r\n    [0, 0, 1, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0],\r\n    [1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 0, 1, 1],\r\n    [0, 0, 1, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0],\r\n]","import Ball from '/src/ball';\r\nimport Paddle from '/src/paddle';\r\nimport Heart from '/src/heart';\r\nimport InputHandler from '/src/input';\r\nimport { buildLevel, level1, level2} from '/src/levels'\r\n\r\nconst GAMESTATE = {\r\n    PAUSED: 0,\r\n    RUNNING: 1,\r\n    MENU: 2,\r\n    GAMEOVER: 3,\r\n    NEWLEVEL: 4,\r\n}\r\n\r\nexport default class Game{\r\n    constructor(gameWidth, gameHeight){\r\n        this.gameWidth = gameWidth;\r\n        this.gameHeight = gameHeight;\r\n        this.gameObjects = [];\r\n        this.gameState = GAMESTATE.MENU;\r\n\r\n        this.lives = 3;\r\n        \r\n        this.bricks = [];\r\n        this.ball = new Ball(this);\r\n        this.paddle = new Paddle(this);\r\n\r\n        this.levels = [level1, level2];\r\n        this.currentLevel = 0;\r\n\r\n        new InputHandler(this);        \r\n\r\n        // this.start();\r\n    }\r\n\r\n    start(){\r\n        if(\r\n            this.gameState !== GAMESTATE.MENU && \r\n            this.gameState !== GAMESTATE.NEWLEVEL\r\n        ) return;\r\n\r\n        this.bricks = buildLevel(this, this.levels[this.currentLevel]);\r\n        this.ball.reset();\r\n\r\n        this.gameObjects = [this.ball, this.paddle];\r\n\r\n        this.gameState = GAMESTATE.RUNNING;\r\n    }\r\n\r\n    update(deltaTime){\r\n        if(this.lives === 0) this.gameState = GAMESTATE.GAMEOVER;\r\n\r\n        if(this.gameState !== GAMESTATE.RUNNING) return;\r\n\r\n        [...this.gameObjects, ...this.bricks].forEach((object) => {\r\n            object.update(deltaTime)\r\n        });\r\n\r\n        this.bricks = this.bricks.filter(brick => !brick.destroy);\r\n\r\n        if(this.bricks.length === 0){\r\n            this.currentLevel++;\r\n            this.gameState = GAMESTATE.NEWLEVEL;    \r\n            this.start();\r\n        }\r\n\r\n    }\r\n\r\n    draw(context){\r\n        [...this.gameObjects, ...this.bricks].forEach((object) => {\r\n            object.draw(context)\r\n        });\r\n\r\n        this.levelPanel(context);\r\n\r\n        for(let i = 0; i < this.lives; i++){\r\n            let heart = new Heart(this, {x: 770 - 20 * i, y: 10 })\r\n            heart.draw(context);\r\n        }\r\n\r\n        if(this.gameState == GAMESTATE.PAUSED){\r\n            this.pausedScreen(context);\r\n        }\r\n        else if(this.gameState == GAMESTATE.MENU){\r\n            this.menuScreen(context);\r\n        }\r\n        else if(this.gameState == GAMESTATE.GAMEOVER){\r\n            this.gameOverScreen(context);\r\n        }\r\n    }\r\n\r\n    togglePause(){\r\n        if(this.gameState == GAMESTATE.PAUSED){\r\n            this.gameState = GAMESTATE.RUNNING;\r\n        }\r\n        else{\r\n            this.gameState = GAMESTATE.PAUSED;\r\n        }\r\n    }\r\n\r\n    pausedScreen(context){\r\n        context.rect(0, 0, this.gameWidth, this.gameHeight);\r\n        context.fillStyle = \"rgba(0, 0, 0, 0.5)\";\r\n        context.fill();\r\n\r\n        context.font = \"30px Arial\";\r\n        context.fillStyle = \"#ffffff\";\r\n        context.textAlign = \"center\";\r\n        context.fillText(\r\n            \"Paused\", \r\n            this.gameWidth / 2, \r\n            this.gameHeight / 2\r\n        );\r\n    }\r\n\r\n    menuScreen(context){\r\n        context.rect(0, 0, this.gameWidth, this.gameHeight);\r\n        context.fillStyle = \"rgba(0, 0, 0, 1)\";\r\n        context.fill();\r\n\r\n        context.font = \"30px Arial\";\r\n        context.fillStyle = \"#ffffff\";\r\n        context.textAlign = \"center\";\r\n        context.fillText(\r\n            \"Press SPACE BAR to Start\", \r\n            this.gameWidth / 2, \r\n            this.gameHeight / 2\r\n        );\r\n    }\r\n\r\n    gameOverScreen(context){\r\n        context.rect(0, 0, this.gameWidth, this.gameHeight);\r\n        context.fillStyle = \"rgba(255, 0, 0, 1)\";\r\n        context.fill();\r\n\r\n        context.font = \"30px Arial\";\r\n        context.fillStyle = \"#ffffff\";\r\n        context.textAlign = \"center\";\r\n        context.fillText(\r\n            \"GAME OVER\", \r\n            this.gameWidth / 2, \r\n            this.gameHeight / 2\r\n        );\r\n    }\r\n\r\n    victoryScreen(context){\r\n        context.rect(0, 0, this.gameWidth, this.gameHeight);\r\n        context.fillStyle = \"rgba(0, 255, 0, 0.5)\";\r\n        context.fill();\r\n\r\n        context.font = \"30px Arial\";\r\n        context.fillStyle = \"#ffffff\";\r\n        context.textAlign = \"center\";\r\n        context.fillText(\r\n            \"LEVEL CLEARED\", \r\n            this.gameWidth / 2, \r\n            this.gameHeight / 2\r\n        );\r\n    }\r\n\r\n    levelPanel(context){\r\n        context.font = \"16px Arial\";\r\n        context.fillStyle = \"rgb(0, 0, 255)\";\r\n        context.textAlign = \"center\";\r\n        context.fillText(\r\n            `Level ${this.currentLevel + 1}`, \r\n            32,\r\n            28\r\n        );\r\n    }\r\n}","import Game from '/src/game';\r\n\r\nlet canvas = document.getElementById(\"game-screen\");\r\nlet context = canvas.getContext(\"2d\");\r\n\r\nconst GAME_WIDTH = 800;\r\nconst GAME_HEIGHT = 600;\r\n\r\nlet game = new Game(GAME_WIDTH, GAME_HEIGHT);\r\n\r\nlet lastTime = 0;\r\n\r\nfunction gameLoop(timestamp){\r\n    let deltaTime = timestamp - lastTime;\r\n    lastTime = timestamp;\r\n\r\n    context.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);\r\n\r\n    game.update(deltaTime);\r\n    game.draw(context);\r\n\r\n    requestAnimationFrame(gameLoop);\r\n}\r\n\r\nrequestAnimationFrame(gameLoop);\r\n"]}